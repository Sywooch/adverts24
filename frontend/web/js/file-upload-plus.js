/*
 jQuery UI - v1.11.4+CommonJS - 2015-08-28
 http://jqueryui.com
 Includes: widget.js
 Copyright 2015 jQuery Foundation and other contributors; Licensed MIT  jQuery UI Widget 1.11.4
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license

 http://api.jqueryui.com/jQuery.widget/
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(b,k,a){b instanceof String&&(b=String(b));for(var c=b.length,d=0;d<c;d++){var e=b[d];if(k.call(a,e,d,b))return{i:d,v:e}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,k,a){b!=Array.prototype&&b!=Object.prototype&&(b[k]=a.value)};
$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(b,k,a,c){if(k){a=$jscomp.global;b=b.split(".");for(c=0;c<b.length-1;c++){var d=b[c];d in a||(a[d]={});a=a[d]}b=b[b.length-1];c=a[b];k=k(c);k!=c&&null!=k&&$jscomp.defineProperty(a,b,{configurable:!0,writable:!0,value:k})}};
$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(b,a){return $jscomp.findInternal(this,b,a).v}},"es6","es3");
(function(b){"function"===typeof define&&define.amd?define(["jquery"],b):"object"===typeof exports?b(require("jquery")):b(jQuery)})(function(b){var k=0,a=Array.prototype.slice;b.cleanData=function(a){return function(d){var c,f,g;for(g=0;null!=(f=d[g]);g++)try{(c=b._data(f,"events"))&&c.remove&&b(f).triggerHandler("remove")}catch(h){}a(d)}}(b.cleanData);b.widget=function(a,d,e){var c={},g=a.split(".")[0];a=a.split(".")[1];var h=g+"-"+a;e||(e=d,d=b.Widget);b.expr[":"][h.toLowerCase()]=function(a){return!!b.data(a,
h)};b[g]=b[g]||{};var l=b[g][a];var p=b[g][a]=function(a,d){if(!this._createWidget)return new p(a,d);arguments.length&&this._createWidget(a,d)};b.extend(p,l,{version:e.version,_proto:b.extend({},e),_childConstructors:[]});var n=new d;n.options=b.widget.extend({},n.options);b.each(e,function(a,e){b.isFunction(e)?c[a]=function(){var c=function(){return d.prototype[a].apply(this,arguments)},b=function(c){return d.prototype[a].apply(this,c)};return function(){var a=this._super,d=this._superApply;this._super=
c;this._superApply=b;var f=e.apply(this,arguments);this._super=a;this._superApply=d;return f}}():c[a]=e});p.prototype=b.widget.extend(n,{widgetEventPrefix:l?n.widgetEventPrefix||a:a},c,{constructor:p,namespace:g,widgetName:a,widgetFullName:h});l?(b.each(l._childConstructors,function(a,d){a=d.prototype;b.widget(a.namespace+"."+a.widgetName,p,d._proto)}),delete l._childConstructors):d._childConstructors.push(p);b.widget.bridge(a,p);return p};b.widget.extend=function(c){for(var d=a.call(arguments,1),
e=0,f=d.length,g,h;e<f;e++)for(g in d[e])h=d[e][g],d[e].hasOwnProperty(g)&&void 0!==h&&(b.isPlainObject(h)?c[g]=b.isPlainObject(c[g])?b.widget.extend({},c[g],h):b.widget.extend({},h):c[g]=h);return c};b.widget.bridge=function(c,d){var e=d.prototype.widgetFullName||c;b.fn[c]=function(f){var g="string"===typeof f,h=a.call(arguments,1),l=this;g?this.each(function(){var a=b.data(this,e);if("instance"===f)return l=a,!1;if(!a)return b.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+
f+"'");if(!b.isFunction(a[f])||"_"===f.charAt(0))return b.error("no such method '"+f+"' for "+c+" widget instance");var d=a[f].apply(a,h);if(d!==a&&void 0!==d)return l=d&&d.jquery?l.pushStack(d.get()):d,!1}):(h.length&&(f=b.widget.extend.apply(null,[f].concat(h))),this.each(function(){var a=b.data(this,e);a?(a.option(f||{}),a._init&&a._init()):b.data(this,e,new d(f,this))}));return l}};b.Widget=function(){};b.Widget._childConstructors=[];b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",
defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(a,d){d=b(d||this.defaultElement||this)[0];this.element=b(d);this.uuid=k++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=b();this.hoverable=b();this.focusable=b();d!==this&&(b.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=b(d.style?d.ownerDocument:d.document||d),this.window=b(this.document[0].defaultView||this.document[0].parentWindow));
this.options=b.widget.extend({},this.options,this._getCreateOptions(),a);this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:b.noop,_getCreateEventData:b.noop,_create:b.noop,_init:b.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(b.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");
this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:b.noop,widget:function(){return this.element},option:function(a,d){var c=a,f;if(0===arguments.length)return b.widget.extend({},this.options);if("string"===typeof a){c={};var g=a.split(".");a=g.shift();if(g.length){var h=c[a]=b.widget.extend({},this.options[a]);for(f=0;f<g.length-1;f++)h[g[f]]=h[g[f]]||{},h=h[g[f]];a=g.pop();if(1===arguments.length)return void 0===
h[a]?null:h[a];h[a]=d}else{if(1===arguments.length)return void 0===this.options[a]?null:this.options[a];c[a]=d}}this._setOptions(c);return this},_setOptions:function(a){for(var d in a)this._setOption(d,a[d]);return this},_setOption:function(a,d){this.options[a]=d;"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!d),d&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")));return this},enable:function(){return this._setOptions({disabled:!1})},
disable:function(){return this._setOptions({disabled:!0})},_on:function(a,d,e){var c,g=this;"boolean"!==typeof a&&(e=d,d=a,a=!1);e?(d=c=b(d),this.bindings=this.bindings.add(d)):(e=d,d=this.element,c=this.widget());b.each(e,function(e,f){function h(){if(a||!0!==g.options.disabled&&!b(this).hasClass("ui-state-disabled"))return("string"===typeof f?g[f]:f).apply(g,arguments)}"string"!==typeof f&&(h.guid=f.guid=f.guid||h.guid||b.guid++);var l=e.match(/^([\w:-]*)\s*(.*)$/);e=l[1]+g.eventNamespace;(l=l[2])?
c.delegate(l,e,h):d.bind(e,h)})},_off:function(a,d){d=(d||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.unbind(d).undelegate(d);this.bindings=b(this.bindings.not(a).get());this.focusable=b(this.focusable.not(a).get());this.hoverable=b(this.hoverable.not(a).get())},_delay:function(a,d){var b=this;return setTimeout(function(){return("string"===typeof a?b[a]:a).apply(b,arguments)},d||0)},_hoverable:function(a){this.hoverable=this.hoverable.add(a);this._on(a,{mouseenter:function(a){b(a.currentTarget).addClass("ui-state-hover")},
mouseleave:function(a){b(a.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a);this._on(a,{focusin:function(a){b(a.currentTarget).addClass("ui-state-focus")},focusout:function(a){b(a.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(a,d,e){var c,g=this.options[a];e=e||{};d=b.Event(d);d.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase();d.target=this.element[0];if(a=d.originalEvent)for(c in a)c in d||
(d[c]=a[c]);this.element.trigger(d,e);return!(b.isFunction(g)&&!1===g.apply(this.element[0],[d].concat(e))||d.isDefaultPrevented())}};b.each({show:"fadeIn",hide:"fadeOut"},function(a,d){b.Widget.prototype["_"+a]=function(c,f,g){"string"===typeof f&&(f={effect:f});var e=f?!0===f||"number"===typeof f?d:f.effect||d:a;f=f||{};"number"===typeof f&&(f={duration:f});var l=!b.isEmptyObject(f);f.complete=g;f.delay&&c.delay(f.delay);if(l&&b.effects&&b.effects.effect[e])c[a](f);else if(e!==a&&c[e])c[e](f.duration,
f.easing,g);else c.queue(function(d){b(this)[a]();g&&g.call(c[0]);d()})}})});
(function(b){"function"===typeof define&&define.amd?define(["jquery"],b):"object"===typeof exports?b(require("jquery")):b(window.jQuery)})(function(b){var k=0,a=b,c="parseJSON";"JSON"in window&&"parse"in JSON&&(a=JSON,c="parse");b.ajaxTransport("iframe",function(a){if(a.async){var d=a.initialIframeSrc||"javascript:false;",c,g,h;return{send:function(e,f){c=b('<form style="display:none;"></form>');c.attr("accept-charset",a.formAcceptCharset);h=/\?/.test(a.url)?"&":"?";"DELETE"===a.type?(a.url=a.url+
h+"_method=DELETE",a.type="POST"):"PUT"===a.type?(a.url=a.url+h+"_method=PUT",a.type="POST"):"PATCH"===a.type&&(a.url=a.url+h+"_method=PATCH",a.type="POST");k+=1;g=b('<iframe src="'+d+'" name="iframe-transport-'+k+'"></iframe>').bind("load",function(){var e=b.isArray(a.paramName)?a.paramName:[a.paramName];g.unbind("load").bind("load",function(){try{var a=g.contents();if(!a.length||!a[0].firstChild)throw Error();}catch(r){a=void 0}f(200,"success",{iframe:a});b('<iframe src="'+d+'"></iframe>').appendTo(c);
window.setTimeout(function(){c.remove()},0)});c.prop("target",g.prop("name")).prop("action",a.url).prop("method",a.type);a.formData&&b.each(a.formData,function(a,d){b('<input type="hidden"/>').prop("name",d.name).val(d.value).appendTo(c)});if(a.fileInput&&a.fileInput.length&&"POST"===a.type){var h=a.fileInput.clone();a.fileInput.after(function(a){return h[a]});a.paramName&&a.fileInput.each(function(d){b(this).prop("name",e[d]||a.paramName)});c.append(a.fileInput).prop("enctype","multipart/form-data").prop("encoding",
"multipart/form-data");a.fileInput.removeAttr("form")}c.submit();h&&h.length&&a.fileInput.each(function(a,d){a=b(h[a]);b(d).prop("name",a.prop("name")).attr("form",a.attr("form"));a.replaceWith(d)})});c.append(g).appendTo(document.body)},abort:function(){g&&g.unbind("load").prop("src",d);c&&c.remove()}}}});b.ajaxSetup({converters:{"iframe text":function(a){return a&&b(a[0].body).text()},"iframe json":function(d){return d&&a[c](b(d[0].body).text())},"iframe html":function(a){return a&&b(a[0].body).html()},
"iframe xml":function(a){return(a=a&&a[0])&&b.isXMLDoc(a)?a:b.parseXML(a.XMLDocument&&a.XMLDocument.xml||b(a.body).html())},"iframe script":function(a){return a&&b.globalEval(b(a[0].body).text())}}})});
(function(b){"function"===typeof define&&define.amd?define(["jquery","jquery-ui/ui/widget"],b):"object"===typeof exports?b(require("jquery"),require("./vendor/jquery.ui.widget")):b(window.jQuery)})(function(b){function k(a){var c="dragover"===a;return function(d){d.dataTransfer=d.originalEvent&&d.originalEvent.dataTransfer;var e=d.dataTransfer;e&&-1!==b.inArray("Files",e.types)&&!1!==this._trigger(a,b.Event(a,{delegatedEvent:d}))&&(d.preventDefault(),c&&(e.dropEffect="copy"))}}b.support.fileInput=
!(/(Android (1\.[0156]|2\.[01]))|(Windows Phone (OS 7|8\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle\/(1\.0|2\.[05]|3\.0))/.test(window.navigator.userAgent)||b('<input type="file"/>').prop("disabled"));b.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader);b.support.xhrFormDataFileUpload=!!window.FormData;b.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);b.widget("blueimp.fileupload",{options:{dropZone:b(document),
pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},
i18n:function(a,c){a=this.messages[a]||a.toString();c&&b.each(c,function(d,b){a=a.replace("{"+d+"}",b)});return a},formData:function(a){return a.serializeArray()},add:function(a,c){if(a.isDefaultPrevented())return!1;(c.autoUpload||!1!==c.autoUpload&&b(this).fileupload("option","autoUpload"))&&c.process().done(function(){c.submit()})},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:b.support.blobSlice&&
function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime();this.bitrate=this.loaded=0;this.getBitrate=function(a,b,d){var c=a-this.timestamp;if(!this.bitrate||!d||c>d)this.bitrate=1E3/c*(b-this.loaded)*8,this.loaded=b,this.timestamp=a;return this.bitrate}},_isXHRUpload:function(a){return!a.forceIframeTransport&&(!a.multipart&&b.support.xhrFileUpload||b.support.xhrFormDataFileUpload)},_getFormData:function(a){if("function"===
b.type(a.formData))return a.formData(a.form);if(b.isArray(a.formData))return a.formData;if("object"===b.type(a.formData)){var c=[];b.each(a.formData,function(a,b){c.push({name:a,value:b})});return c}return[]},_getTotal:function(a){var c=0;b.each(a,function(a,b){c+=b.size||1});return c},_initProgressObject:function(a){var c={loaded:0,total:0,bitrate:0};a._progress?b.extend(a._progress,c):a._progress=c},_initResponseObject:function(a){var b;if(a._response)for(b in a._response)a._response.hasOwnProperty(b)&&
delete a._response[b];else a._response={}},_onProgress:function(a,c){if(a.lengthComputable){var d=Date.now?Date.now():(new Date).getTime();if(!(c._time&&c.progressInterval&&d-c._time<c.progressInterval&&a.loaded!==a.total)){c._time=d;var e=Math.floor(a.loaded/a.total*(c.chunkSize||c._progress.total))+(c.uploadedBytes||0);this._progress.loaded+=e-c._progress.loaded;this._progress.bitrate=this._bitrateTimer.getBitrate(d,this._progress.loaded,c.bitrateInterval);c._progress.loaded=c.loaded=e;c._progress.bitrate=
c.bitrate=c._bitrateTimer.getBitrate(d,e,c.bitrateInterval);this._trigger("progress",b.Event("progress",{delegatedEvent:a}),c);this._trigger("progressall",b.Event("progressall",{delegatedEvent:a}),this._progress)}}},_initProgressListener:function(a){var c=this,d=a.xhr?a.xhr():b.ajaxSettings.xhr();d.upload&&(b(d.upload).bind("progress",function(d){var b=d.originalEvent;d.lengthComputable=b.lengthComputable;d.loaded=b.loaded;d.total=b.total;c._onProgress(d,a)}),a.xhr=function(){return d})},_isInstanceOf:function(a,
b){return Object.prototype.toString.call(b)==="[object "+a+"]"},_initXHRData:function(a){var c=this,d=a.files[0],e=a.multipart||!b.support.xhrFileUpload,f="array"===b.type(a.paramName)?a.paramName[0]:a.paramName;a.headers=b.extend({},a.headers);a.contentRange&&(a.headers["Content-Range"]=a.contentRange);e&&!a.blob&&this._isInstanceOf("File",d)||(a.headers["Content-Disposition"]='attachment; filename="'+encodeURI(d.uploadName||d.name)+'"');if(!e)a.contentType=d.type||"application/octet-stream",a.data=
a.blob||d;else if(b.support.xhrFormDataFileUpload){if(a.postMessage){var g=this._getFormData(a);a.blob?g.push({name:f,value:a.blob}):b.each(a.files,function(d,c){g.push({name:"array"===b.type(a.paramName)&&a.paramName[d]||f,value:c})})}else c._isInstanceOf("FormData",a.formData)?g=a.formData:(g=new FormData,b.each(this._getFormData(a),function(a,d){g.append(d.name,d.value)})),a.blob?g.append(f,a.blob,d.uploadName||d.name):b.each(a.files,function(d,e){(c._isInstanceOf("File",e)||c._isInstanceOf("Blob",
e))&&g.append("array"===b.type(a.paramName)&&a.paramName[d]||f,e,e.uploadName||e.name)});a.data=g}a.blob=null},_initIframeSettings:function(a){var c=b("<a></a>").prop("href",a.url).prop("host");a.dataType="iframe "+(a.dataType||"");a.formData=this._getFormData(a);a.redirect&&c&&c!==location.host&&a.formData.push({name:a.redirectParamName||"redirect",value:a.redirect})},_initDataSettings:function(a){this._isXHRUpload(a)?(this._chunkedUpload(a,!0)||(a.data||this._initXHRData(a),this._initProgressListener(a)),
a.postMessage&&(a.dataType="postmessage "+(a.dataType||""))):this._initIframeSettings(a)},_getParamName:function(a){var c=b(a.fileInput),d=a.paramName;d?b.isArray(d)||(d=[d]):(d=[],c.each(function(){var a=b(this),c=a.prop("name")||"files[]";for(a=(a.prop("files")||[1]).length;a;)d.push(c),--a}),d.length||(d=[c.prop("name")||"files[]"]));return d},_initFormSettings:function(a){a.form&&a.form.length||(a.form=b(a.fileInput.prop("form")),a.form.length||(a.form=b(this.options.fileInput.prop("form"))));
a.paramName=this._getParamName(a);a.url||(a.url=a.form.prop("action")||location.href);a.type=(a.type||"string"===b.type(a.form.prop("method"))&&a.form.prop("method")||"").toUpperCase();"POST"!==a.type&&"PUT"!==a.type&&"PATCH"!==a.type&&(a.type="POST");a.formAcceptCharset||(a.formAcceptCharset=a.form.attr("accept-charset"))},_getAJAXSettings:function(a){a=b.extend({},this.options,a);this._initFormSettings(a);this._initDataSettings(a);return a},_getDeferredState:function(a){return a.state?a.state():
a.isResolved()?"resolved":a.isRejected()?"rejected":"pending"},_enhancePromise:function(a){a.success=a.done;a.error=a.fail;a.complete=a.always;return a},_getXHRPromise:function(a,c,d){var e=b.Deferred(),f=e.promise();c=c||this.options.context||f;!0===a?e.resolveWith(c,d):!1===a&&e.rejectWith(c,d);f.abort=e.promise;return this._enhancePromise(f)},_addConvenienceMethods:function(a,c){var d=this,e=function(a){return b.Deferred().resolveWith(d,a).promise()};c.process=function(a,g){if(a||g)c._processQueue=
this._processQueue=(this._processQueue||e([this])).then(function(){return c.errorThrown?b.Deferred().rejectWith(d,[c]).promise():e(arguments)}).then(a,g);return this._processQueue||e([this])};c.submit=function(){"pending"!==this.state()&&(c.jqXHR=this.jqXHR=!1!==d._trigger("submit",b.Event("submit",{delegatedEvent:a}),this)&&d._onSend(a,this));return this.jqXHR||d._getXHRPromise()};c.abort=function(){if(this.jqXHR)return this.jqXHR.abort();this.errorThrown="abort";d._trigger("fail",null,this);return d._getXHRPromise(!1)};
c.state=function(){if(this.jqXHR)return d._getDeferredState(this.jqXHR);if(this._processQueue)return d._getDeferredState(this._processQueue)};c.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===d._getDeferredState(this._processQueue)};c.progress=function(){return this._progress};c.response=function(){return this._response}},_getUploadedBytes:function(a){return(a=(a=(a=a.getResponseHeader("Range"))&&a.split("-"))&&1<a.length&&parseInt(a[1],10))&&a+1},_chunkedUpload:function(a,
c){a.uploadedBytes=a.uploadedBytes||0;var d=this,e=a.files[0],f=e.size,g=a.uploadedBytes,h=a.maxChunkSize||f,l=this._blobSlice,k=b.Deferred(),n=k.promise(),m;if(!(this._isXHRUpload(a)&&l&&(g||("function"===b.type(h)?h(a):h)<f))||a.data)return!1;if(c)return!0;if(g>=f)return e.error=a.i18n("uploadedBytes"),this._getXHRPromise(!1,a.context,[null,"error",e.error]);var q=function(){var c=b.extend({},a),n=c._progress.loaded;c.blob=l.call(e,g,g+("function"===b.type(h)?h(c):h),e.type);c.chunkSize=c.blob.size;
c.contentRange="bytes "+g+"-"+(g+c.chunkSize-1)+"/"+f;d._initXHRData(c);d._initProgressListener(c);m=(!1!==d._trigger("chunksend",null,c)&&b.ajax(c)||d._getXHRPromise(!1,c.context)).done(function(e,h,l){g=d._getUploadedBytes(l)||g+c.chunkSize;n+c.chunkSize-c._progress.loaded&&d._onProgress(b.Event("progress",{lengthComputable:!0,loaded:g-c.uploadedBytes,total:g-c.uploadedBytes}),c);a.uploadedBytes=c.uploadedBytes=g;c.result=e;c.textStatus=h;c.jqXHR=l;d._trigger("chunkdone",null,c);d._trigger("chunkalways",
null,c);g<f?q():k.resolveWith(c.context,[e,h,l])}).fail(function(a,b,e){c.jqXHR=a;c.textStatus=b;c.errorThrown=e;d._trigger("chunkfail",null,c);d._trigger("chunkalways",null,c);k.rejectWith(c.context,[a,b,e])})};this._enhancePromise(n);n.abort=function(){return m.abort()};q();return n},_beforeSend:function(a,b){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0);this._initResponseObject(b);this._initProgressObject(b);
b._progress.loaded=b.loaded=b.uploadedBytes||0;b._progress.total=b.total=this._getTotal(b.files)||1;b._progress.bitrate=b.bitrate=0;this._active+=1;this._progress.loaded+=b.loaded;this._progress.total+=b.total},_onDone:function(a,c,d,e){var f=e._progress.total,g=e._response;e._progress.loaded<f&&this._onProgress(b.Event("progress",{lengthComputable:!0,loaded:f,total:f}),e);g.result=e.result=a;g.textStatus=e.textStatus=c;g.jqXHR=e.jqXHR=d;this._trigger("done",null,e)},_onFail:function(a,b,d,e){var c=
e._response;e.recalculateProgress&&(this._progress.loaded-=e._progress.loaded,this._progress.total-=e._progress.total);c.jqXHR=e.jqXHR=a;c.textStatus=e.textStatus=b;c.errorThrown=e.errorThrown=d;this._trigger("fail",null,e)},_onAlways:function(a,b,d,e){this._trigger("always",null,e)},_onSend:function(a,c){c.submit||this._addConvenienceMethods(a,c);var d=this,e,f,g=d._getAJAXSettings(c),h=function(){d._sending+=1;g._bitrateTimer=new d._BitrateTimer;return e=e||((f||!1===d._trigger("send",b.Event("send",
{delegatedEvent:a}),g))&&d._getXHRPromise(!1,g.context,f)||d._chunkedUpload(g)||b.ajax(g)).done(function(a,b,c){d._onDone(a,b,c,g)}).fail(function(a,b,c){d._onFail(a,b,c,g)}).always(function(a,b,c){d._onAlways(a,b,c,g);--d._sending;--d._active;if(g.limitConcurrentUploads&&g.limitConcurrentUploads>d._sending)for(a=d._slots.shift();a;){if("pending"===d._getDeferredState(a)){a.resolve();break}a=d._slots.shift()}0===d._active&&d._trigger("stop")})};this._beforeSend(a,g);if(this.options.sequentialUploads||
this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending){if(1<this.options.limitConcurrentUploads){var l=b.Deferred();this._slots.push(l);c=l.then(h)}else c=this._sequence=this._sequence.then(h,h);c.abort=function(){f=[void 0,"abort","abort"];return e?e.abort():(l&&l.rejectWith(g.context,f),h())};return this._enhancePromise(c)}return h()},_onAdd:function(a,c){var d=this,e=!0,f=b.extend({},this.options,c),g=c.files,h=g.length,l=f.limitMultiFileUploads,k=f.limitMultiFileUploadSize,
n=f.limitMultiFileUploadSizeOverhead,m=0,q=this._getParamName(f),r=0;if(!h)return!1;k&&void 0===g[0].size&&(k=void 0);if((f.singleFileUploads||l||k)&&this._isXHRUpload(f))if(f.singleFileUploads||k||!l)if(!f.singleFileUploads&&k){var u=[];var t=[];for(f=0;f<h;f+=1)if(m+=g[f].size+n,f+1===h||m+g[f+1].size+n>k||l&&f+1-r>=l)u.push(g.slice(r,f+1)),m=q.slice(r,f+1),m.length||(m=q),t.push(m),r=f+1,m=0}else t=q;else for(u=[],t=[],f=0;f<h;f+=l)u.push(g.slice(f,f+l)),m=q.slice(f,f+l),m.length||(m=q),t.push(m);
else u=[g],t=[q];c.originalFiles=g;b.each(u||g,function(f,g){var h=b.extend({},c);h.files=u?g:[g];h.paramName=t[f];d._initResponseObject(h);d._initProgressObject(h);d._addConvenienceMethods(a,h);return e=d._trigger("add",b.Event("add",{delegatedEvent:a}),h)});return e},_replaceFileInput:function(a){var c=a.fileInput,d=c.clone(!0),e=c.is(document.activeElement);a.fileInputClone=d;b("<form></form>").append(d)[0].reset();c.after(d).detach();e&&d.focus();b.cleanData(c.unbind("remove"));this.options.fileInput=
this.options.fileInput.map(function(a,b){return b===c[0]?d[0]:b});c[0]===this.element[0]&&(this.element=d)},_handleFileTreeEntry:function(a,c){var d=this,e=b.Deferred(),f=[],g=function(b){b&&!b.entry&&(b.entry=a);e.resolve([b])},h=function(b){d._handleFileTreeEntries(b,c+a.name+"/").done(function(a){e.resolve(a)}).fail(g)},k=function(){p.readEntries(function(a){a.length?(f=f.concat(a),k()):h(f)},g)};c=c||"";if(a.isFile)a._file?(a._file.relativePath=c,e.resolve(a._file)):a.file(function(a){a.relativePath=
c;e.resolve(a)},g);else if(a.isDirectory){var p=a.createReader();k()}else e.resolve([]);return e.promise()},_handleFileTreeEntries:function(a,c){var d=this;return b.when.apply(b,b.map(a,function(a){return d._handleFileTreeEntry(a,c)})).then(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(a){a=a||{};var c=a.items;return c&&c.length&&(c[0].webkitGetAsEntry||c[0].getAsEntry)?this._handleFileTreeEntries(b.map(c,function(a){var b;if(a.webkitGetAsEntry){if(b=a.webkitGetAsEntry())b._file=
a.getAsFile();return b}return a.getAsEntry()})):b.Deferred().resolve(b.makeArray(a.files)).promise()},_getSingleFileInputFiles:function(a){a=b(a);var c=a.prop("webkitEntries")||a.prop("entries");if(c&&c.length)return this._handleFileTreeEntries(c);c=b.makeArray(a.prop("files"));if(c.length)void 0===c[0].name&&c[0].fileName&&b.each(c,function(a,b){b.name=b.fileName;b.size=b.fileSize});else{a=a.prop("value");if(!a)return b.Deferred().resolve([]).promise();c=[{name:a.replace(/^.*\\/,"")}]}return b.Deferred().resolve(c).promise()},
_getFileInputFiles:function(a){return a instanceof b&&1!==a.length?b.when.apply(b,b.map(a,this._getSingleFileInputFiles)).then(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(a)},_onChange:function(a){var c=this,d={fileInput:b(a.target),form:b(a.target.form)};this._getFileInputFiles(d.fileInput).always(function(e){d.files=e;c.options.replaceFileInput&&c._replaceFileInput(d);!1!==c._trigger("change",b.Event("change",{delegatedEvent:a}),d)&&c._onAdd(a,d)})},
_onPaste:function(a){var c=a.originalEvent&&a.originalEvent.clipboardData&&a.originalEvent.clipboardData.items,d={files:[]};c&&c.length&&(b.each(c,function(a,b){(a=b.getAsFile&&b.getAsFile())&&d.files.push(a)}),!1!==this._trigger("paste",b.Event("paste",{delegatedEvent:a}),d)&&this._onAdd(a,d))},_onDrop:function(a){a.dataTransfer=a.originalEvent&&a.originalEvent.dataTransfer;var c=this,d=a.dataTransfer,e={};d&&d.files&&d.files.length&&(a.preventDefault(),this._getDroppedFiles(d).always(function(d){e.files=
d;!1!==c._trigger("drop",b.Event("drop",{delegatedEvent:a}),e)&&c._onAdd(a,e)}))},_onDragOver:k("dragover"),_onDragEnter:k("dragenter"),_onDragLeave:k("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste}));b.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,
"dragenter dragleave dragover drop");this._off(this.options.pasteZone,"paste");this._off(this.options.fileInput,"change")},_destroy:function(){this._destroyEventHandlers()},_setOption:function(a,c){var d=-1!==b.inArray(a,this._specialOptions);d&&this._destroyEventHandlers();this._super(a,c);d&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var a=this.options;void 0===a.fileInput?a.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):
a.fileInput instanceof b||(a.fileInput=b(a.fileInput));a.dropZone instanceof b||(a.dropZone=b(a.dropZone));a.pasteZone instanceof b||(a.pasteZone=b(a.pasteZone))},_getRegExp:function(a){a=a.split("/");var b=a.pop();a.shift();return new RegExp(a.join("/"),b)},_isRegExpOption:function(a,c){return"url"!==a&&"string"===b.type(c)&&/^\/.*\/[igm]{0,3}$/.test(c)},_initDataAttributes:function(){var a=this,c=this.options,d=this.element.data();b.each(this.element[0].attributes,function(b,f){b=f.name.toLowerCase();
/^data-/.test(b)&&(b=b.slice(5).replace(/-[a-z]/g,function(a){return a.charAt(1).toUpperCase()}),f=d[b],a._isRegExpOption(b,f)&&(f=a._getRegExp(f)),c[b]=f)})},_create:function(){this._initDataAttributes();this._initSpecialOptions();this._slots=[];this._sequence=this._getXHRPromise(!0);this._sending=this._active=0;this._initProgressObject(this);this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(a){var c=this;a&&!this.options.disabled&&
(a.fileInput&&!a.files?this._getFileInputFiles(a.fileInput).always(function(b){a.files=b;c._onAdd(null,a)}):(a.files=b.makeArray(a.files),this._onAdd(null,a)))},send:function(a){if(a&&!this.options.disabled){if(a.fileInput&&!a.files){var c=this,d=b.Deferred(),e=d.promise(),f,g;e.abort=function(){g=!0;if(f)return f.abort();d.reject(null,"abort","abort");return e};this._getFileInputFiles(a.fileInput).always(function(b){g||(b.length?(a.files=b,f=c._onSend(null,a),f.then(function(a,b,c){d.resolve(a,b,
c)},function(a,b,c){d.reject(a,b,c)})):d.reject())});return this._enhancePromise(e)}a.files=b.makeArray(a.files);if(a.files.length)return this._onSend(null,a)}return this._getXHRPromise(!1,a&&a.context)}})});
(function(b){"function"===typeof define&&define.amd?define(["jquery"],b):"object"===typeof exports?b(require("jquery")):b(window.jQuery)})(function(b){var k=0,a=b,c="parseJSON";"JSON"in window&&"parse"in JSON&&(a=JSON,c="parse");b.ajaxTransport("iframe",function(a){if(a.async){var c=a.initialIframeSrc||"javascript:false;",d,g,h;return{send:function(e,f){d=b('<form style="display:none;"></form>');d.attr("accept-charset",a.formAcceptCharset);h=/\?/.test(a.url)?"&":"?";"DELETE"===a.type?(a.url=a.url+
h+"_method=DELETE",a.type="POST"):"PUT"===a.type?(a.url=a.url+h+"_method=PUT",a.type="POST"):"PATCH"===a.type&&(a.url=a.url+h+"_method=PATCH",a.type="POST");k+=1;g=b('<iframe src="'+c+'" name="iframe-transport-'+k+'"></iframe>').bind("load",function(){var e=b.isArray(a.paramName)?a.paramName:[a.paramName];g.unbind("load").bind("load",function(){try{var a=g.contents();if(!a.length||!a[0].firstChild)throw Error();}catch(r){a=void 0}f(200,"success",{iframe:a});b('<iframe src="'+c+'"></iframe>').appendTo(d);
window.setTimeout(function(){d.remove()},0)});d.prop("target",g.prop("name")).prop("action",a.url).prop("method",a.type);a.formData&&b.each(a.formData,function(a,c){b('<input type="hidden"/>').prop("name",c.name).val(c.value).appendTo(d)});if(a.fileInput&&a.fileInput.length&&"POST"===a.type){var h=a.fileInput.clone();a.fileInput.after(function(a){return h[a]});a.paramName&&a.fileInput.each(function(c){b(this).prop("name",e[c]||a.paramName)});d.append(a.fileInput).prop("enctype","multipart/form-data").prop("encoding",
"multipart/form-data");a.fileInput.removeAttr("form")}d.submit();h&&h.length&&a.fileInput.each(function(a,c){a=b(h[a]);b(c).prop("name",a.prop("name")).attr("form",a.attr("form"));a.replaceWith(c)})});d.append(g).appendTo(document.body)},abort:function(){g&&g.unbind("load").prop("src",c);d&&d.remove()}}}});b.ajaxSetup({converters:{"iframe text":function(a){return a&&b(a[0].body).text()},"iframe json":function(d){return d&&a[c](b(d[0].body).text())},"iframe html":function(a){return a&&b(a[0].body).html()},
"iframe xml":function(a){return(a=a&&a[0])&&b.isXMLDoc(a)?a:b.parseXML(a.XMLDocument&&a.XMLDocument.xml||b(a.body).html())},"iframe script":function(a){return a&&b.globalEval(b(a[0].body).text())}}})});
(function(b){"function"===typeof define&&define.amd?define(["jquery","./jquery.fileupload"],b):"object"===typeof exports?b(require("jquery"),require("./jquery.fileupload")):b(window.jQuery)})(function(b){var k=b.blueimp.fileupload.prototype.options.add;b.widget("blueimp.fileupload",b.blueimp.fileupload,{options:{processQueue:[],add:function(a,c){var d=b(this);c.process(function(){return d.fileupload("process",c)});k.call(this,a,c)}},processActions:{},_processFile:function(a,c){var d=this,e=b.Deferred().resolveWith(d,
[a]).promise();this._trigger("process",null,a);b.each(a.processQueue,function(a,g){a=function(a){return c.errorThrown?b.Deferred().rejectWith(d,[c]).promise():d.processActions[g.action].call(d,a,g)};e=e.then(a,g.always&&a)});e.done(function(){d._trigger("processdone",null,a);d._trigger("processalways",null,a)}).fail(function(){d._trigger("processfail",null,a);d._trigger("processalways",null,a)});return e},_transformProcessQueue:function(a){var c=[];b.each(a.processQueue,function(){var d={},e=this.action,
f=!0===this.prefix?e:this.prefix;b.each(this,function(c,e){"string"===b.type(e)&&"@"===e.charAt(0)?d[c]=a[e.slice(1)||(f?f+c.charAt(0).toUpperCase()+c.slice(1):c)]:d[c]=e});c.push(d)});a.processQueue=c},processing:function(){return this._processing},process:function(a){var c=this,d=b.extend({},this.options,a);d.processQueue&&d.processQueue.length&&(this._transformProcessQueue(d),0===this._processing&&this._trigger("processstart"),b.each(a.files,function(e){var f=e?b.extend({},d):d,g=function(){return a.errorThrown?
b.Deferred().rejectWith(c,[a]).promise():c._processFile(f,a)};f.index=e;c._processing+=1;c._processingQueue=c._processingQueue.then(g,g).always(function(){--c._processing;0===c._processing&&c._trigger("processstop")})}));return this._processingQueue},_create:function(){this._super();this._processing=0;this._processingQueue=b.Deferred().resolveWith(this).promise()}})});
(function(b){"function"===typeof define&&define.amd?define("jquery load-image load-image-meta load-image-scale load-image-exif canvas-to-blob ./jquery.fileupload-process".split(" "),b):"object"===typeof exports?b(require("jquery"),require("blueimp-load-image/js/load-image"),require("blueimp-load-image/js/load-image-meta"),require("blueimp-load-image/js/load-image-scale"),require("blueimp-load-image/js/load-image-exif"),require("blueimp-canvas-to-blob"),require("./jquery.fileupload-process")):b(window.jQuery,
window.loadImage)})(function(b,k){b.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadImageMetaData",disableImageHead:"@",disableExif:"@",disableExifThumbnail:"@",disableExifSub:"@",disableExifGps:"@",disabled:"@disableImageMetaDataLoad"},{action:"loadImage",prefix:!0,fileTypes:"@",maxFileSize:"@",noRevoke:"@",disabled:"@disableImageLoad"},{action:"resizeImage",prefix:"image",maxWidth:"@",maxHeight:"@",minWidth:"@",minHeight:"@",crop:"@",orientation:"@",forceResize:"@",disabled:"@disableImageResize"},
{action:"saveImage",quality:"@imageQuality",type:"@imageType",disabled:"@disableImageResize"},{action:"saveImageMetaData",disabled:"@disableImageMetaDataSave"},{action:"resizeImage",prefix:"preview",maxWidth:"@",maxHeight:"@",minWidth:"@",minHeight:"@",crop:"@",orientation:"@",thumbnail:"@",canvas:"@",disabled:"@disableImagePreview"},{action:"setImage",name:"@imagePreviewName",disabled:"@disableImagePreview"},{action:"deleteImageReferences",disabled:"@disableImageReferencesDeletion"});b.widget("blueimp.fileupload",
b.blueimp.fileupload,{options:{loadImageFileTypes:/^image\/(gif|jpeg|png|svg\+xml)$/,loadImageMaxFileSize:1E7,imageMaxWidth:1920,imageMaxHeight:1080,imageOrientation:!1,imageCrop:!1,disableImageResize:!0,previewMaxWidth:80,previewMaxHeight:80,previewOrientation:!0,previewThumbnail:!0,previewCrop:!1,previewCanvas:!0},processActions:{loadImage:function(a,c){if(c.disabled)return a;var d=this,e=a.files[a.index],f=b.Deferred();return"number"===b.type(c.maxFileSize)&&e.size>c.maxFileSize||c.fileTypes&&
!c.fileTypes.test(e.type)||!k(e,function(b){b.src&&(a.img=b);f.resolveWith(d,[a])},c)?a:f.promise()},resizeImage:function(a,c){if(c.disabled||!a.canvas&&!a.img)return a;c=b.extend({canvas:!0},c);var d=this,e=b.Deferred(),f=c.canvas&&a.canvas||a.img,g=function(b){b&&(b.width!==f.width||b.height!==f.height||c.forceResize)&&(a[b.getContext?"canvas":"img"]=b);a.preview=b;e.resolveWith(d,[a])},h;if(a.exif){!0===c.orientation&&(c.orientation=a.exif.get("Orientation"));if(c.thumbnail&&(h=a.exif.get("Thumbnail")))return k(h,
g,c),e.promise();a.orientation?delete c.orientation:a.orientation=c.orientation}return f?(g(k.scale(f,c)),e.promise()):a},saveImage:function(a,c){if(!a.canvas||c.disabled)return a;var d=this,e=a.files[a.index],f=b.Deferred();if(a.canvas.toBlob)a.canvas.toBlob(function(b){b.name||(e.type===b.type?b.name=e.name:e.name&&(b.name=e.name.replace(/\.\w+$/,"."+b.type.substr(6))));e.type!==b.type&&delete a.imageHead;a.files[a.index]=b;f.resolveWith(d,[a])},c.type||e.type,c.quality);else return a;return f.promise()},
loadImageMetaData:function(a,c){if(c.disabled)return a;var d=this,e=b.Deferred();k.parseMetaData(a.files[a.index],function(c){b.extend(a,c);e.resolveWith(d,[a])},c);return e.promise()},saveImageMetaData:function(a,b){if(!(a.imageHead&&a.canvas&&a.canvas.toBlob)||b.disabled)return a;b=a.files[a.index];var c=new Blob([a.imageHead,this._blobSlice.call(b,20)],{type:b.type});c.name=b.name;a.files[a.index]=c;return a},setImage:function(a,b){a.preview&&!b.disabled&&(a.files[a.index][b.name||"preview"]=a.preview);
return a},deleteImageReferences:function(a,b){b.disabled||(delete a.img,delete a.canvas,delete a.preview,delete a.imageHead);return a}}})});
(function(b){"function"===typeof define&&define.amd?define(["jquery","load-image","./jquery.fileupload-process"],b):"object"===typeof exports?b(require("jquery"),require("blueimp-load-image/js/load-image"),require("./jquery.fileupload-process")):b(window.jQuery,window.loadImage)})(function(b,k){b.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadAudio",prefix:!0,fileTypes:"@",maxFileSize:"@",disabled:"@disableAudioPreview"},{action:"setAudio",name:"@audioPreviewName",disabled:"@disableAudioPreview"});
b.widget("blueimp.fileupload",b.blueimp.fileupload,{options:{loadAudioFileTypes:/^audio\/.*$/},_audioElement:document.createElement("audio"),processActions:{loadAudio:function(a,c){if(c.disabled)return a;var d=a.files[a.index];this._audioElement.canPlayType&&this._audioElement.canPlayType(d.type)&&("number"!==b.type(c.maxFileSize)||d.size<=c.maxFileSize)&&(!c.fileTypes||c.fileTypes.test(d.type))&&(c=k.createObjectURL(d))&&(d=this._audioElement.cloneNode(!1),d.src=c,d.controls=!0,a.audio=d);return a},
setAudio:function(a,b){a.audio&&!b.disabled&&(a.files[a.index][b.name||"preview"]=a.audio);return a}}})});
(function(b){"function"===typeof define&&define.amd?define(["jquery","load-image","./jquery.fileupload-process"],b):"object"===typeof exports?b(require("jquery"),require("blueimp-load-image/js/load-image"),require("./jquery.fileupload-process")):b(window.jQuery,window.loadImage)})(function(b,k){b.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadVideo",prefix:!0,fileTypes:"@",maxFileSize:"@",disabled:"@disableVideoPreview"},{action:"setVideo",name:"@videoPreviewName",disabled:"@disableVideoPreview"});
b.widget("blueimp.fileupload",b.blueimp.fileupload,{options:{loadVideoFileTypes:/^video\/.*$/},_videoElement:document.createElement("video"),processActions:{loadVideo:function(a,c){if(c.disabled)return a;var d=a.files[a.index];this._videoElement.canPlayType&&this._videoElement.canPlayType(d.type)&&("number"!==b.type(c.maxFileSize)||d.size<=c.maxFileSize)&&(!c.fileTypes||c.fileTypes.test(d.type))&&(c=k.createObjectURL(d))&&(d=this._videoElement.cloneNode(!1),d.src=c,d.controls=!0,a.video=d);return a},
setVideo:function(a,b){a.video&&!b.disabled&&(a.files[a.index][b.name||"preview"]=a.video);return a}}})});
(function(b){"function"===typeof define&&define.amd?define(["jquery","./jquery.fileupload-process"],b):"object"===typeof exports?b(require("jquery"),require("./jquery.fileupload-process")):b(window.jQuery)})(function(b){b.blueimp.fileupload.prototype.options.processQueue.push({action:"validate",always:!0,acceptFileTypes:"@",maxFileSize:"@",minFileSize:"@",maxNumberOfFiles:"@",disabled:"@disableValidation"});b.widget("blueimp.fileupload",b.blueimp.fileupload,{options:{getNumberOfFiles:b.noop,messages:{maxNumberOfFiles:"Maximum number of files exceeded",
acceptFileTypes:"File type not allowed",maxFileSize:"File is too large",minFileSize:"File is too small"}},processActions:{validate:function(k,a){if(a.disabled)return k;var c=b.Deferred(),d=this.options,e=k.files[k.index];if(a.minFileSize||a.maxFileSize)var f=e.size;"number"===b.type(a.maxNumberOfFiles)&&(d.getNumberOfFiles()||0)+k.files.length>a.maxNumberOfFiles?e.error=d.i18n("maxNumberOfFiles"):!a.acceptFileTypes||a.acceptFileTypes.test(e.type)||a.acceptFileTypes.test(e.name)?f>a.maxFileSize?e.error=
d.i18n("maxFileSize"):"number"===b.type(f)&&f<a.minFileSize?e.error=d.i18n("minFileSize"):delete e.error:e.error=d.i18n("acceptFileTypes");e.error||k.files.error?(k.files.error=!0,c.rejectWith(this,[k])):c.resolveWith(this,[k]);return c.promise()}}})});
